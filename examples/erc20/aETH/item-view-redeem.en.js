//<![CDATA[
class Token {

    constructor(token, card) {
        this.token = token;
        this.card = card;
        this.time = this.formatTimeStamp(this.card.timestamp.date);
    }

    formatTimeStamp(time) {
        let a = new Date(time);
        let hours = a.getHours();
        let minutes = a.getMinutes();
        let ampm = hours >= 12 ? 'pm' : 'am';
        hours = hours % 12;
        hours = hours ? hours : 12; // the hour '0' should be '12'
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return hours + ':' + minutes + ' ' + ampm;
    }

    render() {
        return`
        <div>
            <div class="container">
                <div class="logo">
                    <img src="data:image/png;base64,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">
                </div>
                <div class="info">
                    - ${(this.card._valueRedeemed / 1e+18).toFixed(4)} aETH<br/>
                    <div class="time">${this.time}</div>
                </div>
                <div class="title">
                    Redeemed <strong>aETH</strong>
                </div>
                <div class="subtitle">
                    to Aave
                </div>
            </div>
        </div>
`;
    }
}

web3.tokens.dataChanged = (oldTokens, updated, tokenIdCard) => {
    document.getElementById(tokenIdCard).innerHTML = new Token(updated.token, updated.card).render();
};
//]]>
