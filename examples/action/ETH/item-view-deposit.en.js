//<![CDATA[
class Token {

    constructor(token, card) {
        this.token = token;
        this.card = card;
        this.time = this.formatTimeStamp(this.card.timestamp.date);
    }

    formatTimeStamp(time) {
        let a = new Date(time);
        let hours = a.getHours();
        let minutes = a.getMinutes();
        let ampm = hours >= 12 ? 'pm' : 'am';
        hours = hours % 12;
        hours = hours ? hours : 12; // the hour '0' should be '12'
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return hours + ':' + minutes + ' ' + ampm;
    }

    render() {
        return`
        <div>
            <div class="container">
                <div class="logo">
                    <img src="data:image/png;base64,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">
                </div>
                <div class="info">
                    - ${(this.card._valueMinted / 1e+18).toFixed(4)} ETH<br/>
                    <div class="time">${this.time}</div>
                </div>
                <div class="title">
                    Deposit <strong>aETH</strong>
                </div>
                <div class="subtitle">
                    to Aave
                </div>
            </div>
        </div>
`;
    }
}

web3.tokens.dataChanged = (oldTokens, updated, tokenIdCard) => {
    document.getElementById(tokenIdCard).innerHTML = new Token(updated.token, updated.card).render();
};
//]]>
