//<![CDATA[
class Token {

    constructor(token, card) {
        this.token = token;
        this.card = card;
        this.time = this.formatTimeStamp(this.card.timestamp.date);
    }

    formatTimeStamp(time) {
        let a = new Date(time);
        let hours = a.getHours();
        let minutes = a.getMinutes();
        let ampm = hours >= 12 ? 'pm' : 'am';
        hours = hours % 12;
        hours = hours ? hours : 12; // the hour '0' should be '12'
        minutes = minutes < 10 ? '0' + minutes : minutes;
        return hours + ':' + minutes + ' ' + ampm;
    }

    render() {
        return`
        <div>
            <div class="container">
                    <img class="logo" src="data:image/png;base64,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">
                <div class="info">
                    + ${(this.card.amount / 1e+18).toFixed(4)} aETH<br/>
                    <div class="time"><div class="time">${this.time}</div></div>
                </div>
                <div class="title">
                    Receive <strong>aETH</strong>
                </div>
                <div class="subtitle">
                    from Aave
                </div>
            </div>
        </div>
`;
    }
}

web3.tokens.dataChanged = (oldTokens, updated, tokenIdCard) => {
    document.getElementById(tokenIdCard).innerHTML = new Token(updated.token, updated.card).render();
};
//]]>
